<?php
// Файл: includes/db_connect.php
// Подключение к базе данных MySQLi

// Подключаем конфигурационный файл (если используете)
// Если нет, определите константы прямо здесь
require_once __DIR__ . '/../config.php'; // __DIR__ дает путь к текущей папке (includes), /../ поднимается на уровень выше

// Устанавливаем соединение
$db = mysqli_connect(DB_HOST, DB_USER, DB_PASS, DB_NAME);

// Проверка соединения
if (!$db) {
    // В реальном проекте здесь лучше логировать ошибку, а не выводить пользователю
    die("Ошибка подключения к базе данных: " . mysqli_connect_error());
}

// Установка кодировки соединения (очень важно!)
if (!mysqli_set_charset($db, "utf8mb4")) {
    // Логирование ошибки
    error_log("Ошибка установки кодировки utf8mb4: " . mysqli_error($db));
    // Можно также die(), если это критично
}

// Теперь переменная $db содержит объект подключения к БД
// и может быть использована в других файлах, где подключается этот скрипт.

// Не закрываем PHP тег, если в файле только PHP код, чтобы избежать случайного вывода пробелов/переносов строк